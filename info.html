<!DOCTYPE html>
<html lang="ja" class="light">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>News &amp; Topics - Portfolio</title>
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&amp;family=Noto+Sans+JP:wght@400;500;700&amp;display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <style>
    .material-symbols-outlined {
      font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
    /* 読み込み中スピナー */
    .loader {
      border: 4px solid #f3f3f3;
      border-top: 4px solid #13a4ec;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    /* モーダル表示時の背景固定 */
    .modal-open {
      overflow: hidden;
    }
  </style>
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#13a4ec",
            "background-light": "#f6f7f8",
            "background-dark": "#101c22",
            "text-light": "#0d171b",
            "text-dark": "#e7eff3",
            "subtext-light": "#4c809a",
            "subtext-dark": "#a0b3c1",
            "surface-light": "#ffffff",
            "surface-dark": "#1a2a33",
            "border-light": "#e7eff3",
            "border-dark": "#2a3b47",
            // 共通ヘッダーで必要な色
            "secondary": "#13a4ec",
             "text-muted-light": "#6c757d", // index.html 由来
             "text-muted-dark": "#adb5bd",   // index.html 由来
          },
          fontFamily: {
            "display": ["Manrope", "Noto Sans JP", "sans-serif"] // Noto Sans JP を追加
          },
          borderRadius: { "DEFAULT": "0.25rem", "lg": "0.5rem", "xl": "0.75rem", "full": "9999px" },
        },
      },
    }
  </script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
<div class="relative flex min-h-screen w-full flex-col overflow-x-hidden">

  <!-- ★ 共通ヘッダー (レスポンシブ対応) ★ -->
  <header class="sticky top-0 z-50 w-full bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm border-b border-border-light dark:border-border-dark">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- 共通ロゴとタイトル -->
        <a href="index.html" id="header-branding" class="flex items-center gap-4 text-text-light dark:text-text-dark flex-shrink-0"></a>

        <!-- PC用メニュー (md以上で表示) -->
        <div id="header-nav-container" class="hidden md:flex flex-1 justify-center items-center gap-8">
          <nav class="flex items-center gap-5 lg:gap-6" id="main-nav"></nav>
          <div id="header-cta-container"></div>
        </div>

        <!-- スマホ用メニューボタン (md未満で表示) -->
        <div class="md:hidden flex items-center gap-4">
           <div id="mobile-cta-container"></div>
          <button id="mobile-menu-toggle" class="text-text-light dark:text-text-dark p-2 rounded-md hover:bg-slate-100 dark:hover:bg-slate-800">
            <span class="material-symbols-outlined">menu</span>
          </button>
        </div>

      </div>
    </div>

    <!-- スマホ用ドロップダウンメニュー (JSで hidden をトグル) -->
    <div id="mobile-menu" class="hidden md:hidden absolute top-16 left-0 w-full bg-background-light dark:bg-background-dark border-b border-border-light dark:border-border-dark shadow-lg z-40">
      <nav class="flex flex-col gap-4 p-4" id="mobile-nav"></nav>
    </div>
  </header>

  <main class="flex-grow">
    <div class="container mx-auto max-w-5xl px-4 py-12 md:py-20">
      <div class="flex flex-col gap-10">
        <!-- PageHeading Component -->
        <div class="flex flex-col items-center text-center">
          <h1 class="text-4xl md:text-5xl font-black tracking-tighter">News &amp; Topics</h1>
          <p class="mt-3 max-w-2xl text-subtext-light dark:text-subtext-dark">近況報告、イベント告知、メディア出演情報などを発信します。</p>
        </div>
        <!-- Chips Component (フィルターボタン) -->
        <div id="filter-buttons-container" class="flex flex-wrap items-center justify-center gap-2">
        </div>

        <!-- ★★★ Firebaseから読み込んだ記事を表示するエリア ★★★ -->
        <div id="articles-grid" class="grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">

          <!-- 読み込み中スピナー -->
          <div id="articles-loader-public" class="col-span-1 sm:col-span-2 lg:col-span-3 flex justify-center py-16">
            <div class="loader"></div>
            <p class="ml-4 text-text-muted-light">お知らせを読み込んでいます...</p>
          </div>

          <!-- ここにFirebaseから読み込んだ記事が動的に挿入されます -->

        </div>

        <!-- Pagination Component (ページネーション機能は未実装) -->
        <div class="flex items-center justify-center p-4">
          <a class="flex size-10 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors" href="#">
            <span class="material-symbols-outlined text-xl">chevron_left</span>
          </a>
          <a class="text-sm font-bold flex size-10 items-center justify-center rounded-full bg-primary text-white" href="#">1</a>
          <!-- <a class="text-sm font-medium flex size-10 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors" href="#">2</a>
          <a class="text-sm font-medium flex size-10 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors" href="#">3</a>
          <span class="text-sm font-medium flex size-10 items-center justify-center rounded-full">...</span>
          <a class="text-sm font-medium flex size-10 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors" href="#">8</a> -->
          <a class="flex size-10 items-center justify-center rounded-full hover:bg-black/5 dark:hover:bg-white/5 transition-colors" href="#">
            <span class="material-symbols-outlined text-xl">chevron_right</span>
          </a>
        </div>
      </div>
    </div>
  </main>
  <nav id="bottom-nav" class="hidden fixed bottom-0 left-0 w-full z-40 bg-surface-light dark:bg-surface-dark border-t border-slate-200 dark:border-slate-800">
    <div id="bottom-nav-container" class="flex justify-around max-w-lg mx-auto">
    </div>
  </nav>
  <div id="global-footer-container"></div>
</div>

<!-- ★★★ モーダルウィンドウのHTML構造 ★★★ -->
<div id="article-modal" class="fixed inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 hidden transition-opacity duration-300 ease-out opacity-0" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div id="modal-content-wrapper" class="bg-surface-light dark:bg-surface-dark rounded-xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto transform scale-95 opacity-0 transition-all duration-300 ease-out">
    <div class="p-6 sm:p-8">
      <!-- モーダルヘッダー -->
      <div class="flex items-start justify-between pb-4 border-b border-border-light dark:border-border-dark">
        <div>
          <h2 id="modal-title" class="text-2xl font-bold"></h2>
          <p id="modal-meta" class="text-sm text-subtext-light dark:text-subtext-dark mt-1"></p>
        </div>
        <button id="modal-close-btn" class="p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-700 text-text-muted-light dark:text-text-muted-dark transition-colors">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <!-- モーダルコンテンツ -->
      <div class="mt-6 space-y-4">
        <img id="modal-image" src="" alt="記事画像" class="w-full h-auto max-h-64 object-cover rounded-lg hidden">
        <div id="modal-body" class="prose prose-sm sm:prose-base dark:prose-invert max-w-none text-text-light dark:text-text-dark whitespace-pre-wrap break-words">
          <!-- 本文がここに挿入されます -->
        </div>
      </div>
    </div>
  </div>
</div>

<script type="module" src="js/common.js"></script>
</body>
</html>