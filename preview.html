<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snippet Preview</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script>
     // カスタムカラー定義 (tailwind.config.jsの内容を反映)
     tailwind.config = {
       darkMode: 'class',
       theme: {
         extend: {
           colors: {
             primary: '#00bfff',
             secondary: '#00bfff',
             'background-light': '#F8F9FA',
             'background-dark': '#101c22',
             'text-light': '#343A40',
             'text-dark': '#F8F9FA',
             'text-muted-light': '#6c757d',
             'text-muted-dark': '#adb5bd',
             'surface-light': '#ffffff',
             'surface-dark': '#1a2a33',
           }
         }
       }
     }
  </script>
  <style>
    .material-symbols-outlined { font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
  </style>
</head>
<body class="bg-gray-100 p-10 flex justify-center items-start min-h-screen">
  <div id="preview-container" class="w-full max-w-5xl">
    </div>
  <script type="module">
    import * as common from './js/common.js';

    // 1. プレビュー内容を表示
    const code = localStorage.getItem('snippetPreviewCode');
    const container = document.getElementById('preview-container');

    if (code) {
      container.innerHTML = code;
    } else {
      container.innerHTML = '<p class="text-red-500 text-center">プレビューデータが見つかりません。</p>';
    }

    // 2. コンテンツ展開後の処理 (カスタムパーツ読み込み)
    // common.jsの読み込みとDOMレンダリングを待ってから実行
    setTimeout(async () => {
         if (typeof common.loadCustomHtmlParts === 'function') {
             await common.loadCustomHtmlParts();
         }
    }, 500);
  </script>
</body>
</html>
